components:
  schemas:
    ServerInfoRequest:
      type: object
      description: |
        The server_info command asks the server for a human-readable version of various information about the rippled server being queried.
      properties:
        method:
          type: string
          enum:
            - server_info
        params:
          type: array
          items:
            $ref: '../../shared/requests/server_info.yaml#/components/schemas/ServerInfoRequest'
      required:
        - method
      example:
        method: 'server_info'
        params:
          - counters: true

    ServerInfoSuccessResponse:
      type: object
      allOf:
        - $ref: '../../shared/requests/server_info.yaml#/components/schemas/ServerInfoSuccessResponse'
        - type: object
          properties:
            status:
              type: string
              enum:
                - success
          required:
            - status

    ServerInfoErrorResponse:
      type: object
      allOf:
        - $ref: '../../shared/requests/server_info.yaml#/components/schemas/ServerInfoErrorResponse'
        - type: object
          properties:
            status:
              type: string
              enum:
                - error
          required:
            - status

    ServerInfoResponse:
      type: object
      properties:
        result:
          type: object
          oneOf:
            - $ref: '#/components/schemas/ServerInfoSuccessResponse'
            - $ref: '#/components/schemas/ServerInfoErrorResponse'
          discriminator:
            propertyName: status
            mapping:
              success: '#/components/schemas/ServerInfoSuccessResponse'
              error: '#/components/schemas/ServerInfoErrorResponse'
      required:
        - result
